<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Log (logbook.Log)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc %%VERSION%%"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../index.html">logbook</a> &#x00BB; Log</nav><h1>Module <code>Log</code></h1><p>OCaml representation and parsing of the <a href="https://gist.github.com/Profpatsch/092ff68fa267b9fa0ccbe13e98149b21">log format</a>.</p><p><em>v0.3 — <a href="https://github.com/sternenseemann/logbook">homepage</a></em></p><nav class="toc"><ul><li><a href="#log">Log</a><ul><li><a href="#log-representation">Log Representation</a></li><li><a href="#log-parsing">Log Parsing</a></li><li><a href="#log-processing">Log processing</a></li></ul></li></ul></nav></header><section><header><h2 id="log"><a href="#log" class="anchor"></a>Log</h2></header><section><header><h3 id="log-representation"><a href="#log-representation" class="anchor"></a>Log Representation</h3></header><dl><dt class="spec type" id="type-privacy_level"><a href="#type-privacy_level" class="anchor"></a><code><span class="keyword">type</span> privacy_level</code><code> = </code><table class="variant"><tr id="type-privacy_level.Private" class="anchored"><td class="def constructor"><a href="#type-privacy_level.Private" class="anchor"></a><code>| </code><code><span class="constructor">Private</span></code></td></tr><tr id="type-privacy_level.Semi_private" class="anchored"><td class="def constructor"><a href="#type-privacy_level.Semi_private" class="anchor"></a><code>| </code><code><span class="constructor">Semi_private</span></code></td></tr><tr id="type-privacy_level.Public" class="anchored"><td class="def constructor"><a href="#type-privacy_level.Public" class="anchor"></a><code>| </code><code><span class="constructor">Public</span></code></td></tr></table></dt><dd><p>Describes, how private a log item is, where private means “item only visible to oneself, semi-private “item visible to trusted persons” and public “item visible to everyone”.</p></dd></dl><dl><dt class="spec type" id="type-item"><a href="#type-item" class="anchor"></a><code><span class="keyword">type</span> <span>'a item</span></code><code> = </code><table class="variant"><tr id="type-item.Item" class="anchored"><td class="def constructor"><a href="#type-item.Item" class="anchor"></a><code>| </code><code><span class="constructor">Item</span> <span class="keyword">of</span> <a href="index.html#type-privacy_level">privacy_level</a> * <span class="type-var">'a</span> * <span class="type-var">'a</span></code></td></tr></table></dt><dd><p>A log item consisting of its privacy level, a title and a text, both in markup <code>'a</code>.</p></dd></dl><dl><dt class="spec type" id="type-log_entry"><a href="#type-log_entry" class="anchor"></a><code><span class="keyword">type</span> <span>'a log_entry</span></code><code> = </code><table class="variant"><tr id="type-log_entry.Log_entry" class="anchored"><td class="def constructor"><a href="#type-log_entry.Log_entry" class="anchor"></a><code>| </code><code><span class="constructor">Log_entry</span> <span class="keyword">of</span> Ptime.date * <span class="type-var">'a</span> * <span><span><span class="type-var">'a</span> <a href="index.html#type-item">item</a></span> list</span></code></td></tr></table></dt><dd><p>A log entry consisting of a date, a summary and items, both in markup <code>'a</code>.</p></dd></dl><dl><dt class="spec type" id="type-log"><a href="#type-log" class="anchor"></a><code><span class="keyword">type</span> <span>'a log</span></code><code> = <span><span><span class="type-var">'a</span> <a href="index.html#type-log_entry">log_entry</a></span> list</span></code></dt><dd><p>A log file consisting of multiple log entries for multiple days using markup <code>'a</code>.</p></dd></dl><dl><dt class="spec value" id="val-compatible_privacy"><a href="#val-compatible_privacy" class="anchor"></a><code><span class="keyword">val</span> compatible_privacy : <a href="index.html#type-privacy_level">privacy_level</a> <span>&#45;&gt;</span> <a href="index.html#type-privacy_level">privacy_level</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>A test to check wether a privacy level of e. g. an item is compatible with the (maximum) privacy level available.</p></dd></dl><dl><dt class="spec value" id="val-privacy_level_of_char"><a href="#val-privacy_level_of_char" class="anchor"></a><code><span class="keyword">val</span> privacy_level_of_char : char <span>&#45;&gt;</span> <span><a href="index.html#type-privacy_level">privacy_level</a> option</span></code></dt><dd><p>Get the corresponding privacy level for a char</p></dd></dl><dl><dt class="spec value" id="val-filter_privacy_level"><a href="#val-filter_privacy_level" class="anchor"></a><code><span class="keyword">val</span> filter_privacy_level : <a href="index.html#type-privacy_level">privacy_level</a> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-item">item</a></span> list</span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="index.html#type-item">item</a></span> list</span></code></dt><dd><p>Remove all items incompatible with the given privacy level from the list of items.</p></dd></dl></section><section><header><h3 id="log-parsing"><a href="#log-parsing" class="anchor"></a>Log Parsing</h3><p>log files are parsed using <a href="https://github.com/inhabitedtype/angstrom">angstrom</a>.</p></header><dl><dt class="spec value" id="val-log_parser"><a href="#val-log_parser" class="anchor"></a><code><span class="keyword">val</span> log_parser : <span><span>string <a href="index.html#type-log">log</a></span> Angstrom.t</span></code></dt><dd><p>An angstrom parser for log files</p></dd></dl></section><section><header><h3 id="log-processing"><a href="#log-processing" class="anchor"></a>Log processing</h3></header><dl><dt class="spec value" id="val-apply_markup"><a href="#val-apply_markup" class="anchor"></a><code><span class="keyword">val</span> apply_markup : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-log">log</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-log">log</a></span></code></dt><dd><p>Convert a log's markup. This is especially useful to apply a specific markup to a freshly parsed log file.</p></dd></dl></section></section></div></body></html>